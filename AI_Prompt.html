<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Multi Dashboards — Student / Portfolio / Business / Admin</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <style>
    /* Base */
    :root{
      --bg: #f4f6f9;
      --card: #ffffff;
      --muted: #6b7280;
      --shadow: 0 6px 20px rgba(16,24,40,0.06);
      --radius: 12px;
      --accent: #2563eb;
    }
    html,body{ height:100%; margin:0; background:var(--bg); font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color:#0f172a; }
    .app{ display:flex; min-height:100vh; }

    /* Sidebar */
    .sidebar{
      width:260px; background:linear-gradient(180deg,#0f172a,#111827); color:#e6eefc; padding:20px; box-shadow: 4px 0 18px rgba(2,6,23,0.06);
      position:sticky; top:0; height:100vh;
    }
    .brand{ display:flex; align-items:center; gap:10px; font-weight:700; font-size:1.05rem; margin-bottom:1rem; }
    .brand .logo{
      width:42px; height:42px; border-radius:10px; background:linear-gradient(135deg,#2563eb,#7c3aed); display:flex; align-items:center; justify-content:center; color:white; font-weight:700;
    }
    .nav-link {
      color:rgba(230,238,252,0.95); padding:.6rem .75rem; border-radius:10px; display:flex; gap:.75rem; align-items:center; margin-bottom:6px;
      transition:all .15s ease;
    }
    .nav-link:hover{ transform:translateY(-2px); background:rgba(255,255,255,0.03); text-decoration:none; }
    .nav-link.active{ background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); box-shadow: inset 0 1px 0 rgba(255,255,255,0.03); }

    .sidebar .muted{ color: #94a3b8; font-size: .85rem; margin-top:1rem; }

    /* Main content */
    main{ flex:1; padding:26px 32px; }
    .topbar{ display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:18px; }
    .search{ min-width:320px; max-width:520px; }
    .card{ background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); border:0; }

    /* summary metrics */
    .metrics{ display:grid; grid-template-columns:repeat(4,1fr); gap:16px; margin-bottom:18px; }
    .metric-card{ padding:18px; display:flex; justify-content:space-between; align-items:center; gap:12px; }
    .metric-left .title{ font-size:0.9rem; color:var(--muted); }
    .metric-left .value{ font-weight:800; font-size:1.35rem; margin-top:6px; }
    .metric-badge{ padding:6px 10px; border-radius:10px; font-weight:700; font-size:0.85rem; color:white; }

    /* dashboard sections visuals */
    .section-title{ font-weight:700; margin-bottom:12px; display:flex; justify-content:space-between; align-items:center; gap:12px; }
    .card .card-body{ padding:18px; }

    /* tables */
    .table thead th{ background:#f8fafc; border-bottom:0; color:#334155; font-weight:700; }
    .table td, .table th{ vertical-align:middle; }

    /* responsive */
    @media (max-width:1200px){ .metrics{ grid-template-columns:repeat(2,1fr); } .search{ min-width:250px; } }
    @media (max-width:768px){ .sidebar{ position:fixed; left:-320px; transition:left .2s ease; z-index:1050; } .sidebar.show{ left:0; } main{ padding:18px; } .metrics{ grid-template-columns:1fr; } }

    /* tiny sparkline */
    .spark{ width:110px; height:36px; display:block; }

    /* creative accent per dashboard */
    .theme-student { --accent: #06b6d4; }
    .theme-portfolio{ --accent: #7c3aed; }
    .theme-business { --accent: #059669; }
    .theme-admin    { --accent: #ef4444; }

    /* small UX */
    .btn-icon{ width:40px; height:40px; border-radius:10px; display:inline-flex; align-items:center; justify-content:center; }
  </style>
</head>
<body>
  <div class="app">
    <!-- sidebar -->
    <aside class="sidebar">
      <div class="brand">
        <div class="logo">DS</div>
        <div>
          <div>Dashboard Suite</div>
          <div style="font-size:.78rem;color:#9fb0d9;margin-top:4px">Real-world style</div>
        </div>
      </div>

      <nav class="nav flex-column" id="mainNav">
        <a href="#student" class="nav-link active" data-target="student"><i class="fa-solid fa-user-graduate"></i> Student</a>
        <a href="#portfolio" class="nav-link" data-target="portfolio"><i class="fa-solid fa-briefcase"></i> Portfolio</a>
        <a href="#business" class="nav-link" data-target="business"><i class="fa-solid fa-chart-line"></i> Business</a>
        <a href="#admin" class="nav-link" data-target="admin"><i class="fa-solid fa-user-gear"></i> Admin</a>
      </nav>

      <div class="muted">
        Quick actions
        <div style="margin-top:8px;">
          <button id="toggleSidebar" class="btn btn-sm btn-light btn-icon" title="Toggle"><i class="fa-solid fa-bars"></i></button>
          <button id="resetData" class="btn btn-sm btn-light" style="margin-left:8px">Reset</button>
        </div>
      </div>

      <div style="position:absolute; bottom:18px; left:20px; right:20px; font-size:.82rem; color:#9fb0d9;">
        <div>Version 1.0</div>
        <div style="margin-top:6px">© Your Company</div>
      </div>
    </aside>

    <!-- main -->
    <main>
      <!-- topbar -->
      <div class="topbar">
        <div style="display:flex; gap:12px; align-items:center; flex:1;">
          <div class="search">
            <input id="globalSearch" class="form-control" placeholder="Search dashboards, users, projects..." />
          </div>
          <div style="display:flex; gap:8px;">
            <button class="btn btn-outline-secondary btn-icon" title="Notifications"><i class="fa-regular fa-bell"></i></button>
            <button class="btn btn-outline-secondary btn-icon" title="Settings"><i class="fa-solid fa-gear"></i></button>
          </div>
        </div>

        <div style="display:flex; gap:12px; align-items:center;">
          <div class="text-end" style="min-width:120px;">
            <div style="font-size:.85rem; color:var(--muted)">Today</div>
            <div style="font-weight:700" id="todayDate"></div>
          </div>
          <div class="d-flex align-items-center gap-2">
            <div style="text-align:right; margin-right:6px;">
              <div style="font-size:.82rem; color:var(--muted)">Hello,</div>
              <div style="font-weight:700">Uday</div>
            </div>
            <div class="rounded-circle" style="background:linear-gradient(135deg,#60a5fa,#3b82f6); width:44px; height:44px; display:flex; align-items:center; justify-content:center; color:white;">
              US
            </div>
          </div>
        </div>
      </div>

      <!-- container for tab pages -->
      <div id="pages">

        <!-- STUDENT PAGE -->
        <section id="student" class="page theme-student">
          <div class="section-title">
            <h4>Student Performance</h4>
            <div style="display:flex; gap:8px;">
              <select id="studentClass" class="form-select form-select-sm" style="width:130px;">
                <option>Class 10 • Term 1</option>
                <option>Class 10 • Term 2</option>
              </select>
              <button class="btn btn-sm btn-outline-secondary" id="exportGrades">Export grades</button>
            </div>
          </div>

          <!-- summary metrics -->
          <div class="metrics">
            <div class="card metric-card">
              <div class="metric-left">
                <div class="title">Average Score</div>
                <div class="value" id="avgScore">88</div>
                <div class="small-muted">Across subjects</div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#06b6d4,#0891b2);">Top</div>
                <canvas class="spark" id="sparkScore"></canvas>
              </div>
            </div>

            <div class="card metric-card">
              <div class="metric-left">
                <div class="title">Attendance</div>
                <div class="value" id="attPerc">92%</div>
                <div class="small-muted">Present days: <span id="presentDays">165</span></div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#34d399,#059669);">Good</div>
                <canvas class="spark" id="sparkAttendance"></canvas>
              </div>
            </div>

            <div class="card metric-card">
              <div class="metric-left">
                <div class="title">Active Activities</div>
                <div class="value" id="activitiesCount">3</div>
                <div class="small-muted">Clubs & competitions</div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#f97316,#fb923c);">Engage</div>
                <canvas class="spark" id="sparkActivities"></canvas>
              </div>
            </div>

            <div class="card metric-card">
              <div class="metric-left">
                <div class="title">Top Subject</div>
                <div class="value" id="topSubject">Computer</div>
                <div class="small-muted">Highest score</div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#7c3aed,#a78bfa);">95</div>
                <canvas class="spark" id="sparkTop"></canvas>
              </div>
            </div>
          </div>

          <div class="row g-4">
            <div class="col-lg-8">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-start">
                    <div>
                      <h5 class="mb-1">Marks overview</h5>
                      <div class="small-muted">Subject scores — latest exam</div>
                    </div>
                    <div class="small-muted">Range: 0 - 100</div>
                  </div>
                  <canvas id="marksChart" height="160" style="margin-top:14px;"></canvas>
                </div>
              </div>

              <div class="card mt-3">
                <div class="card-body">
                  <div class="d-flex justify-content-between">
                    <h6 class="mb-0">Performance & Notes</h6>
                    <div class="small-muted">Teacher comments included</div>
                  </div>
                  <div class="mt-3">
                    <table class="table table-hover">
                      <thead>
                        <tr><th>Subject</th><th>Max</th><th>Score</th><th>Result</th><th>Notes</th></tr>
                      </thead>
                      <tbody id="gradeTable"></tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-4">
              <div class="card p-3">
                <h6 class="mb-2">Attendance Trend</h6>
                <canvas id="attendanceChart" height="140"></canvas>
              </div>

              <div class="card p-3 mt-3">
                <h6 class="mb-2">Activities</h6>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item d-flex justify-content-between align-items-center">Chess Club <span class="badge bg-success">Active</span></li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">Science Fair <span class="badge bg-warning text-dark">Upcoming</span></li>
                  <li class="list-group-item d-flex justify-content-between align-items-center">Basketball <span class="badge bg-success">Active</span></li>
                </ul>
                <div class="mt-3 text-center"><button id="joinActivity" class="btn btn-sm btn-outline-primary">Request to join</button></div>
              </div>
            </div>
          </div>
        </section>

        <!-- PORTFOLIO PAGE -->
        <section id="portfolio" class="page theme-portfolio" style="display:none;">
          <div class="section-title">
            <h4>Portfolio</h4>
            <div style="display:flex; gap:8px;">
              <button class="btn btn-sm btn-outline-secondary" id="downloadPortfolio">Export Portfolio</button>
              <button class="btn btn-sm btn-primary">Add Project</button>
            </div>
          </div>

          <div class="metrics" style="margin-bottom:12px;">
            <div class="card metric-card">
              <div class="metric-left">
                <div class="title">Skill Score</div>
                <div class="value" id="skillScore">88</div>
                <div class="small-muted">Weighted skill index</div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#7c3aed,#a78bfa);">Pro</div>
                <canvas class="spark" id="pSpark1"></canvas>
              </div>
            </div>

            <div class="card metric-card">
              <div class="metric-left">
                <div class="title">Projects</div>
                <div class="value" id="projectsCount">8</div>
                <div class="small-muted">Live & archived</div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#f97316,#fb923c);">Active</div>
                <canvas class="spark" id="pSpark2"></canvas>
              </div>
            </div>

            <div class="card metric-card">
              <div class="metric-left">
                <div class="title">Open Roles</div>
                <div class="value" id="openRoles">2</div>
                <div class="small-muted">Collaborations</div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#06b6d4,#0891b2);">Wanted</div>
                <canvas class="spark" id="pSpark3"></canvas>
              </div>
            </div>

            <div class="card metric-card">
              <div class="metric-left">
                <div class="title">Achievements</div>
                <div class="value" id="achCount">6</div>
                <div class="small-muted">Badges & awards</div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#34d399,#059669);">Win</div>
                <canvas class="spark" id="pSpark4"></canvas>
              </div>
            </div>
          </div>

          <div class="row g-4">
            <div class="col-lg-5">
              <div class="card p-3">
                <h6>Skills</h6>
                <div class="mt-3">
                  <div class="small-muted">HTML</div>
                  <div class="progress mb-2"><div class="progress-bar" style="width:95%"></div></div>
                  <div class="small-muted">CSS</div>
                  <div class="progress mb-2"><div class="progress-bar" style="width:90%"></div></div>
                  <div class="small-muted">JavaScript</div>
                  <div class="progress mb-2"><div class="progress-bar" style="width:85%"></div></div>
                  <div class="small-muted">Backend</div>
                  <div class="progress mb-2"><div class="progress-bar" style="width:72%"></div></div>
                </div>
              </div>

              <div class="card p-3 mt-3">
                <h6>Achievements</h6>
                <div class="d-flex flex-wrap gap-2 mt-2">
                  <span class="badge bg-warning text-dark">Best Project 2024</span>
                  <span class="badge bg-info text-dark">Hackathon Top 10</span>
                  <span class="badge bg-success">Community Mentor</span>
                </div>
              </div>
            </div>

            <div class="col-lg-7">
              <div class="card p-3">
                <h6>Projects</h6>
                <div class="row mt-2" id="projectsList">
                  <!-- project cards injected -->
                </div>
              </div>

              <div class="card p-3 mt-3">
                <h6>Skill distribution</h6>
                <canvas id="portfolioChart" height="160"></canvas>
              </div>
            </div>
          </div>
        </section>

        <!-- BUSINESS PAGE -->
        <section id="business" class="page theme-business" style="display:none;">
          <div class="section-title">
            <h4>Business Analytics</h4>
            <div style="display:flex; gap:8px;">
              <select id="businessRange" class="form-select form-select-sm" style="width:150px;">
                <option>Last 12 months</option>
                <option>Last 6 months</option>
              </select>
              <button class="btn btn-sm btn-outline-secondary" id="exportSales">Export CSV</button>
            </div>
          </div>

          <div class="metrics">
            <div class="card metric-card">
              <div class="metric-left">
                <div class="title">Monthly Revenue</div>
                <div class="value" id="revenue">₹1,250,000</div>
                <div class="small-muted">This month</div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#059669,#10b981);">Growth</div>
                <canvas class="spark" id="bSpark1"></canvas>
              </div>
            </div>

            <div class="card metric-card">
              <div class="metric-left">
                <div class="title">Conversion</div>
                <div class="value">3.5%</div>
                <div class="small-muted">Site -> sale</div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#2563eb,#60a5fa);">Stable</div>
                <canvas class="spark" id="bSpark2"></canvas>
              </div>
            </div>

            <div class="card metric-card">
              <div class="metric-left">
                <div class="title">Avg Order</div>
                <div class="value">₹2,350</div>
                <div class="small-muted">Order value</div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#f97316,#fb923c);">Healthy</div>
                <canvas class="spark" id="bSpark3"></canvas>
              </div>
            </div>

            <div class="card metric-card">
              <div class="metric-left">
                <div class="title">Churn</div>
                <div class="value">1.1%</div>
                <div class="small-muted">Monthly</div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#ef4444,#f43f5e);">Low</div>
                <canvas class="spark" id="bSpark4"></canvas>
              </div>
            </div>
          </div>

          <div class="row g-4">
            <div class="col-lg-8">
              <div class="card p-3">
                <div class="d-flex justify-content-between">
                  <h6 class="mb-0">Revenue (monthly)</h6>
                  <div class="small-muted">Last 12 months</div>
                </div>
                <canvas id="salesChart" height="160" style="margin-top:12px;"></canvas>
              </div>

              <div class="card p-3 mt-3">
                <h6>Recent Orders</h6>
                <div class="table-responsive mt-2">
                  <table class="table table-sm">
                    <thead><tr><th>Order ID</th><th>Customer</th><th>Amount</th><th>Status</th></tr></thead>
                    <tbody id="ordersTable"></tbody>
                  </table>
                </div>
              </div>
            </div>

            <div class="col-lg-4">
              <div class="card p-3">
                <h6>KPI Overview</h6>
                <div class="row text-center mt-3">
                  <div class="col-4">
                    <div class="small-muted">Visits</div>
                    <div class="value" style="font-weight:800">142k</div>
                  </div>
                  <div class="col-4">
                    <div class="small-muted">New</div>
                    <div class="value" style="font-weight:800">8.4k</div>
                  </div>
                  <div class="col-4">
                    <div class="small-muted">Retention</div>
                    <div class="value" style="font-weight:800">76%</div>
                  </div>
                </div>
              </div>

              <div class="card p-3 mt-3">
                <h6>Top Products</h6>
                <ol class="mt-2 mb-0" id="topProducts">
                </ol>
              </div>
            </div>
          </div>
        </section>

        <!-- ADMIN PAGE -->
        <section id="admin" class="page theme-admin" style="display:none;">
          <div class="section-title">
            <h4>Admin</h4>
            <div style="display:flex; gap:8px;">
              <button class="btn btn-sm btn-outline-danger" id="purgeDemo">Purge demo</button>
              <button class="btn btn-sm btn-primary">New user</button>
            </div>
          </div>

          <div class="metrics">
            <div class="card metric-card">
              <div>
                <div class="title">Total Users</div>
                <div class="value" id="totalUsers">1,245</div>
                <div class="small-muted">All roles</div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#ef4444,#f97316);">Admin</div>
                <canvas class="spark" id="aSpark1"></canvas>
              </div>
            </div>

            <div class="card metric-card">
              <div>
                <div class="title">Active This Week</div>
                <div class="value" id="activeWeek">842</div>
                <div class="small-muted">Sessions</div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#2563eb,#60a5fa);">Live</div>
                <canvas class="spark" id="aSpark2"></canvas>
              </div>
            </div>

            <div class="card metric-card">
              <div>
                <div class="title">Invites</div>
                <div class="value" id="invites">23</div>
                <div class="small-muted">Pending</div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#7c3aed,#a78bfa);">Invite</div>
                <canvas class="spark" id="aSpark3"></canvas>
              </div>
            </div>

            <div class="card metric-card">
              <div>
                <div class="title">Reports</div>
                <div class="value" id="reportsCount">14</div>
                <div class="small-muted">Queued</div>
              </div>
              <div style="text-align:right;">
                <div class="metric-badge" style="background:linear-gradient(90deg,#06b6d4,#0891b2);">Help</div>
                <canvas class="spark" id="aSpark4"></canvas>
              </div>
            </div>
          </div>

          <div class="row g-4">
            <div class="col-lg-7">
              <div class="card p-3">
                <h6>Users</h6>
                <div class="table-responsive mt-2">
                  <table class="table table-hover">
                    <thead><tr><th>Name</th><th>Email</th><th>Role</th><th>Status</th></tr></thead>
                    <tbody id="usersTable"></tbody>
                  </table>
                </div>
              </div>
            </div>

            <div class="col-lg-5">
              <div class="card p-3">
                <h6>Settings</h6>
                <div class="mt-2">
                  <div class="form-check form-switch">
                    <input class="form-check-input" id="maintenanceMode" type="checkbox">
                    <label class="form-check-label" for="maintenanceMode">Maintenance mode</label>
                  </div>
                  <div class="form-check form-switch mt-2">
                    <input class="form-check-input" id="emailAlerts" type="checkbox" checked>
                    <label class="form-check-label" for="emailAlerts">Email alerts</label>
                  </div>
                </div>

                <div class="mt-3">
                  <h6 class="mb-2">Reports</h6>
                  <button class="btn btn-sm btn-outline-primary" id="exportUsers">Export Users</button>
                  <button class="btn btn-sm btn-outline-secondary" id="genReport">Generate</button>
                </div>
              </div>

              <div class="card p-3 mt-3">
                <h6>System Health</h6>
                <div class="mt-2 small-muted">Uptime, queue lengths, and more</div>
                <div class="mt-3">
                  <div class="small-muted">Uptime</div>
                  <div class="progress mb-2"><div class="progress-bar" style="width:99%"></div></div>
                  <div class="small-muted">Queue</div>
                  <div class="progress"><div class="progress-bar bg-warning" style="width:18%"></div></div>
                </div>
              </div>
            </div>
          </div>
        </section>

      </div>
    </main>
  </div>

  <!-- Scripts (app) -->
  <script>
    // ---------- Utility & demo data ----------
    const todayEl = document.getElementById('todayDate');
    const today = new Date().toLocaleDateString(undefined, {year:'numeric', month:'short', day:'numeric'});
    todayEl.textContent = today;

    // demo grade data
    const gradeData = [
      { subject:'Math', max:100, score:88, note:'Good command on algebra' },
      { subject:'Science', max:100, score:82, note:'Needs lab practice' },
      { subject:'English', max:100, score:91, note:'Excellent writing' },
      { subject:'History', max:100, score:76, note:'Memorize timelines' },
      { subject:'Computer', max:100, score:95, note:'Top practicals' }
    ];

    // projects
    const projects = [
      { title:'Portfolio Website', tech:'React • Tailwind', desc:'Personal portfolio with blog', link:'#' },
      { title:'Student Portal', tech:'PHP • MySQL', desc:'Portal with role based access', link:'#' },
      { title:'E-commerce Demo', tech:'Node • Express', desc:'Mock store for analytics', link:'#' },
      { title:'Design System', tech:'Figma', desc:'Reusable UI components', link:'#' },
    ];

    // sales & orders demo
    const months = ['Oct','Nov','Dec','Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep'];
    const sales = [85000,95000,120000,110000,125000,140000,155000,165000,172000,190000,210000,230000];
    const orders = [
      {id:'ORD-1021', name:'Ramesh', amount:'₹2,350', status:'Paid'},
      {id:'ORD-1022', name:'Priya', amount:'₹1,120', status:'Paid'},
      {id:'ORD-1023', name:'Amit', amount:'₹4,500', status:'Refunded'},
      {id:'ORD-1024', name:'Sneha', amount:'₹6,300', status:'Paid'}
    ];
    const topProducts = ['Starter Kit', 'Pro Plan', 'On-site Setup', 'Design Pack'];

    // users demo
    const users = [
      {name:'Alice', email:'alice@example.com', role:'Student', status:'Active'},
      {name:'Bob', email:'bob@example.com', role:'Teacher', status:'Active'},
      {name:'Carol', email:'carol@example.com', role:'Admin', status:'Invited'},
      {name:'Deep', email:'deep@example.com', role:'Student', status:'Active'}
    ];

    // ---------- Render grade table ----------
    const gradeTable = document.getElementById('gradeTable');
    gradeTable.innerHTML = gradeData.map(g => `
      <tr>
        <td>${g.subject}</td>
        <td>${g.max}</td>
        <td><strong>${g.score}</strong></td>
        <td>${g.score >= 40 ? '<span class="badge bg-success">Pass</span>' : '<span class="badge bg-danger">Fail</span>'}</td>
        <td>${g.note}</td>
      </tr>
    `).join('');

    // ---------- Render projects ----------
    const projectsList = document.getElementById('projectsList');
    projectsList.innerHTML = projects.map(p => `
      <div class="col-md-6 mb-3">
        <div class="p-3 border rounded bg-light">
          <div style="display:flex; justify-content:space-between; align-items:start;">
            <div>
              <strong>${p.title}</strong>
              <div class="small-muted" style="font-size:.85rem">${p.tech}</div>
            </div>
            <div><a href="${p.link}" class="btn btn-sm btn-outline-primary">Open</a></div>
          </div>
          <div class="small-muted mt-2">${p.desc}</div>
        </div>
      </div>
    `).join('');

    // ---------- Render orders & top products ----------
    const ordersTable = document.getElementById('ordersTable');
    ordersTable.innerHTML = orders.map(o => `
      <tr><td>${o.id}</td><td>${o.name}</td><td>${o.amount}</td><td><span class="badge ${o.status==='Paid'?'bg-success': o.status==='Refunded'?'bg-danger':'bg-secondary'}">${o.status}</span></td></tr>
    `).join('');

    const topProductsEl = document.getElementById('topProducts');
    topProductsEl.innerHTML = topProducts.map(p => `<li>${p}</li>`).join('');

    // ---------- Render admin users ----------
    const usersTable = document.getElementById('usersTable');
    usersTable.innerHTML = users.map(u => `
      <tr><td>${u.name}</td><td>${u.email}</td><td>${u.role}</td><td>${u.status==='Active'?'<span class="badge bg-success">Active</span>':'<span class="badge bg-secondary">Invited</span>'}</td></tr>
    `).join('');

    // ---------- Charts ----------
    function makeSparkline(ctx, data, color='#3b82f6', tension=0.4) {
      return new Chart(ctx, {
        type:'line',
        data:{ labels:data.map((_,i)=>i), datasets:[{ data:data, borderWidth:2, pointRadius:0, borderColor:color, tension, fill:false }]},
        options:{ responsive:true, plugins:{ legend:{display:false} }, scales:{ x:{display:false}, y:{display:false} }, elements:{ line:{capStyle:'round'} } }
      });
    }

    // sparks
    makeSparkline(document.getElementById('sparkScore').getContext('2d'), [80,85,82,88,90,88,90], '#06b6d4');
    makeSparkline(document.getElementById('sparkAttendance').getContext('2d'), [88,90,91,92,93,92,94], '#059669');
    makeSparkline(document.getElementById('sparkActivities').getContext('2d'), [2,3,3,4,3,4,3], '#f97316');
    makeSparkline(document.getElementById('sparkTop').getContext('2d'), [70,85,88,92,95,94,95], '#7c3aed');

    // student main charts
    const marksCtx = document.getElementById('marksChart').getContext('2d');
    new Chart(marksCtx, {
      type:'bar',
      data:{
        labels: gradeData.map(d=>d.subject),
        datasets:[
          { label:'Score', data: gradeData.map(d=>d.score), backgroundColor: gradeData.map(d=> d.score>=90? '#10b981' : '#3b82f6'), borderRadius:8, barThickness:18 }
        ]
      },
      options: {
        plugins:{ legend:{ display:false } },
        scales:{ y:{ beginAtZero:true, max:100, ticks:{ stepSize:20 } } }
      }
    });

    const attendanceCtx = document.getElementById('attendanceChart').getContext('2d');
    new Chart(attendanceCtx, {
      type:'line',
      data:{ labels:['Week1','Week2','Week3','Week4'], datasets:[{ label:'Attendance %', data:[90,92,91,92], fill:true, backgroundColor:'rgba(6,182,212,0.08)', borderColor:'#06b6d4' }] },
      options:{ plugins:{ legend:{display:false} }, scales:{ y:{ beginAtZero:true, max:100 } } }
    });

    // portfolio
    new Chart(document.getElementById('portfolioChart').getContext('2d'), {
      type:'doughnut',
      data:{ labels:['HTML','CSS','JS','Backend','Design'], datasets:[{ data:[30,25,20,15,10], backgroundColor:['#a78bfa','#60a5fa','#93c5fd','#bfdbfe','#dbeafe'], hoverOffset:6 }]},
      options:{ plugins:{ legend:{ position:'right' } } }
    });

    // business
    new Chart(document.getElementById('salesChart').getContext('2d'), {
      type:'line',
      data:{ labels: months, datasets:[{ label:'Revenue', data: sales, tension:0.35, fill:true, backgroundColor:'rgba(5,150,105,.06)', borderColor:'#059669', pointRadius:3 }]},
      options:{ scales:{ y:{ beginAtZero:true } }, plugins:{ legend:{ display:false } } }
    });

    // little sparks for business & admin
    makeSparkline(document.getElementById('bSpark1').getContext('2d'), [110,120,125,130,140,145,150], '#059669');
    makeSparkline(document.getElementById('bSpark2').getContext('2d'), [2.8,3.0,3.2,3.4,3.5,3.4,3.5], '#2563eb');
    makeSparkline(document.getElementById('bSpark3').getContext('2d'), [2100,2200,2250,2300,2350,2400], '#fb923c');
    makeSparkline(document.getElementById('bSpark4').getContext('2d'), [1.2,1.1,1.0,1.1,1.2,1.1], '#ef4444');

    makeSparkline(document.getElementById('pSpark1').getContext('2d'), [70,80,84,86,88,90], '#7c3aed');
    makeSparkline(document.getElementById('pSpark2').getContext('2d'), [2,3,3,4,4,3], '#fb923c');
    makeSparkline(document.getElementById('pSpark3').getContext('2d'), [0,1,1,2,1,2], '#06b6d4');
    makeSparkline(document.getElementById('pSpark4').getContext('2d'), [3,4,5,6,6,6], '#10b981');

    makeSparkline(document.getElementById('aSpark1').getContext('2d'), [1000,1100,1200,1250,1245,1240], '#ef4444');
    makeSparkline(document.getElementById('aSpark2').getContext('2d'), [700,780,820,840,842,850], '#2563eb');
    makeSparkline(document.getElementById('aSpark3').getContext('2d'), [8,12,10,14,22,23], '#7c3aed');
    makeSparkline(document.getElementById('aSpark4').getContext('2d'), [8,9,10,12,13,14], '#06b6d4');

    // ---------- Interactions ----------
    const navLinks = document.querySelectorAll('.nav-link');
    const pages = document.querySelectorAll('.page');
    navLinks.forEach(n => {
      n.addEventListener('click', (e) => {
        e.preventDefault();
        navLinks.forEach(x => x.classList.remove('active'));
        n.classList.add('active');
        // show page
        const target = n.getAttribute('data-target');
        pages.forEach(p => { p.style.display = p.id === target ? '' : 'none'; });
        // set theme on main element for accent usage if needed
        document.querySelector('main').className = (target==='student'? 'theme-student' : target==='portfolio'? 'theme-portfolio' : target==='business'? 'theme-business' : 'theme-admin');
        // collapse sidebar on mobile
        if(window.innerWidth < 768) document.querySelector('.sidebar').classList.remove('show');
      });
    });

    // toggle sidebar (mobile)
    document.getElementById('toggleSidebar').addEventListener('click', ()=> {
      document.querySelector('.sidebar').classList.toggle('show');
    });

    // Reset data (demo)
    document.getElementById('resetData').addEventListener('click', ()=> {
      alert('Demo data reset (sample only).');
      // could reset charts/data here
    });

    // Export grades CSV
    document.getElementById('exportGrades').addEventListener('click', ()=> {
      const csv = [['Subject','Max','Score','Note'], ...gradeData.map(g=>[g.subject,g.max,g.score,g.note])];
      downloadCSV(csv, 'grades.csv');
    });

    // Export users CSV
    document.getElementById('exportUsers').addEventListener('click', ()=> {
      const csv = [['Name','Email','Role','Status'], ...users.map(u=>[u.name,u.email,u.role,u.status])];
      downloadCSV(csv, 'users.csv');
    });

    // Export sales (simple)
    document.getElementById('exportSales').addEventListener('click', ()=> {
      const csv = [['Month','Revenue'], ...months.map((m,i)=>[m,sales[i]])];
      downloadCSV(csv, 'sales.csv');
    });

    // Download portfolio (JSON)
    document.getElementById('downloadPortfolio').addEventListener('click', ()=> {
      const data = { projects, skills: { HTML:95, CSS:90, JS:85, Backend:72 } };
      const blob = new Blob([JSON.stringify(data, null, 2)], { type:'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'portfolio.json'; a.click(); URL.revokeObjectURL(url);
    });

    // Some extra demo actions
    document.getElementById('joinActivity').addEventListener('click', ()=> alert('Request sent to club admin.'));

    document.getElementById('purgeDemo').addEventListener('click', ()=> {
      if(confirm('Purge demo data? This will only clear the demo view.')) {
        alert('Demo purged.');
      }
    });

    // helper: download CSV
    function downloadCSV(rows, filename='data.csv') {
      const content = rows.map(r => r.map(cell => `"${String(cell).replace(/"/g,'""')}"`).join(',')).join('\n');
      const blob = new Blob([content], { type: 'text/csv;charset=utf-8;' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = filename; a.style.display='none'; document.body.appendChild(a); a.click();
      setTimeout(()=>{ URL.revokeObjectURL(url); a.remove(); }, 100);
    }

    // small accessibility: global search highlight (demo)
    document.getElementById('globalSearch').addEventListener('input', (e) => {
      const q = e.target.value.trim().toLowerCase();
      if(!q) return;
      // quick demo: find matching project title and auto-open portfolio
      const found = projects.find(p => p.title.toLowerCase().includes(q));
      if(found) {
        document.querySelector('.nav-link[data-target="portfolio"]').click();
      }
    });

    // initial theme class
    document.querySelector('main').classList.add('theme-student');

  </script>



  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
